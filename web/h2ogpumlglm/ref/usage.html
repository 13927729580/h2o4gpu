<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width">

        <title>POGS : Usage</title>
        <meta name="description" content="ADMM-based graph form solver">

        <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/syntax.css">
        <link rel="stylesheet" href="../css/main.css">
        <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"> </script>
    </head>
    <body>

        <div class="container">
            <div class=row-fluid>
                <div id=header class=span12>
                    <h4><a class=brand href="../index.html">POGS</a>
    <small>ADMM-based graph form solver</small>
</h4>


                </div>
            </div>

            <div class=row-fluid>
                
                
                    <div id=navigation class=span2>
                        <ul class="nav nav-list">
    <li><a href="../index.html">Home</a></li>
    <li><a href="https://github.com/foges/pogs/">GitHub</a></li>
    
        
        

        
            
                <li class=nav-header>Reference</li>
            
            <li data-order=""><a href="admm.html">ADMM</a></li>
        
            
            <li data-order=""><a href="usage.html">Usage</a></li>
        
    
        
        

        
            
                <li class=nav-header>Setup</li>
            
            <li data-order=""><a href="../stp/r.html">R</a></li>
        
            
            <li data-order=""><a href="../stp/matlab.html">MATLAB</a></li>
        
            
            <li data-order=""><a href="../stp/c.html">C++</a></li>
        
    
        
        

        
            
                <li class=nav-header>Examples</li>
            
            <li data-order=""><a href="../egs/huber-fitting.html">Huber Fitting</a></li>
        
            
            <li data-order=""><a href="../egs/linear-program.html">Linear Program</a></li>
        
            
            <li data-order=""><a href="../egs/lasso.html">Lasso</a></li>
        
    
<!-- List additional links. It is recommended to add a divider
    e.g. <li class=divider></li> first to break up the content. -->
</ul>

                    </div>

                    <div id=content class=span10>
                        <div class=page-header>
    <h2>Usage
        
    </h2>
</div>

<p>This page contains general usage information about POGS. For specific instructions about installing and running the C++ code or MATLAB and R wrappers, see the Setup section on the left-hand side.</p>

<h3 id="input-variables">Input Variables</h3>

<p>The solver takes 3 input variables.</p>

<ul>
  <li><code>A</code> is the data matrix in the constraint \(y = Ax\). Currently only dense matrices are supported, but a sparse matrix implementation is on its way.</li>
  <li><code>f</code> and <code>g</code> are structures representing the terms \(f(y)\) and \(g(x)\) in the objective function. It is assumed that \(f(y)\) and \(g(x)\) are separable and that each \(f_i(y_i)\) (resp. \(g_j(x_j)\)) can be represented by 5 parameters.</li>
</ul>

<h3 id="parameters">Parameters</h3>

<p>The solver takes 6 parameters. They are all optional.</p>

<ul>
  <li><code>rel_tol</code> (default <code>1e-3</code>). The relative stopping criteria (see section below on stopping conditions).</li>
  <li><code>abs_tol</code> (default <code>1e-4</code>). The absolute stopping criteria (see section below on stopping conditions).</li>
  <li><code>rho</code> (default <code>1.0</code>). See section section below on choosing \( \rho \).</li>
  <li><code>adaptive_rho</code> (default <code>true</code>). Adaptively choose <code>rho</code>. If you have found a good value of rho that works for your problem, then it may make more sense to turn off adaptive rho updating. Otherwise it is highly recommended to leave this turned on.</li>
  <li><code>max_iter</code> (default <code>1000</code>). The maximum number of iterations before the solver terminates. Most problems should terminate within ~500 iterations, but there is no guarantee.</li>
  <li><code>quiet</code> (default <code>false</code>). Displays progress information every 10th iteration if set to <code>false</code>.</li>
</ul>

<h3 id="output-variables">Output Variables</h3>

<p>The solver returns 3 solution variables.</p>

<ul>
  <li><code>x</code> and <code>y</code> are the primal solution variable \(x^\star\<em>\text{pogs}\) and \(y^\star\</em>\text{pogs}\).</li>
  <li><code>l</code> is the dual solution variable \(\lambda^\star\_\text{pogs}\) corresponding to the constraint \(Ax = y\).</li>
</ul>

<h3 id="warm-starting--factors">Warm Starting / Factors</h3>

<p>POGS pre-computes various factors relating to the matrix \(A\) before beginning to minimize \(f + g\) (this is known as <em>factorization caching</em>). As a result the first iteration will take a long time compared to subsequent iterations. Therefore, if you plan to solve multiple optimization problems with the same matrix \(A\) but different functions \(f\) and \(g\), then POGS can perform the factorization once and re-use it in subsequent iterations. To use this feature simply feed the factors back in the next time you call POGS. The exact process depends on whether you’re using C++ or one of the wrappers.</p>

<h3 id="stopping-criteria">Stopping Criteria</h3>

<p>The stopping criteria used by POGS is similar to the one used by DIMACS and the SeDuMi solver. They are</p>

<p>\[
  \begin{aligned}
    \|r^{k}\| &amp; \leq \epsilon_{\text{abs}} \sqrt{m} +\epsilon_{\text{rel}} \| (x^k, y^k) \|  \\<br />
    \|s^{k}\| &amp; \leq \epsilon_{\text{abs}} \sqrt{n} +\epsilon_{\text{rel}} \| (\lambda^k, \mu^k) \|  \\<br />
    \ | p^k - d^k| &amp; \leq \epsilon_{\text{abs}} + \epsilon_{\text{rel}} | p^k |  \\<br />
	\end{aligned} 
\]</p>

<p>where \( r^k = Ax^k - y^k \) and \( s^k = A^T\lambda^k + \mu^k \) are the primal resp. dual residuals at the \( k \)’th iteration. The scalars \( p^k \) and \( d^k \) are the primal and dual optimal values, making \( p^k - d^k \) a pseduo-gap. </p>

<h3 id="choosing--rho-">Choosing \( \rho \)</h3>

<p>The convergence rate of POGS is tightly coupled with the choice of penalty parameter \( \rho \). Optimal choices of \( \rho \) can range from \( 10^{-3} \) to \( 10^{3} \) and in general objective functions with lower curvature are more sensitive to the choice of \( \rho \). We recommend letting POGS automatically choose \( \rho \). Advanced users may prefer to choose \( \rho \) themselves for best performance.</p>

<h3 id="h-functions">\(h\)-Functions</h3>

<p>A total of 16 different functions that can be specified for \(h\). They are</p>

<dl>
  <dt>kAbs – Absolute Value</dt>
  <dd>Function: \(h(x) = |x|\).</dd>
  <dd>Domain: \( \mathbf{R} \).</dd>
  <dd>Uses: \(L_1\)-norm problems (eg. to promote sparsity).</dd>
  <dt>kNegEntr – Negative Entropy</dt>
  <dd>Function: \(h(x) = -x \log(x)\).</dd>
  <dd>Domain: \( \mathbf{R}_+ \).</dd>
  <dd>Uses: Useful in problems concerning probability distributions.</dd>
  <dt>kExp – Exponential</dt>
  <dd>Function: \(h(x) = e^x\).</dd>
  <dd>Domain: \( \mathbf{R} \).</dd>
  <dd>Uses: Useful as soft version of \(I(x \leq 0) \).</dd>
  <dt>kHuber – Huber Loss</dt>
  <dd>Function: \( h(x) = \left\{\begin{aligned} &amp;(1/2)x^2 &amp; |x| \leq 1 \\\ &amp;|x| - (1/2) &amp; |x| &gt; 1 \end{aligned} \right. \).</dd>
  <dd>Domain: \( \mathbf{R} \).</dd>
  <dd>Uses: Robust estimation (use as robust alternative to \((1/2)x^2\)).</dd>
  <dt>kIdentity – Identity</dt>
  <dd>Function: \(h(x) = x\).</dd>
  <dd>Domain: \( \mathbf{R} \).</dd>
  <dd>Uses: Typical in linear programs and quadratic programs.</dd>
  <dt>kIndBox01 – Indicator of [0, 1]-Box</dt>
  <dd>Function: \(h(x) = I(0 \leq x \leq 1)\).</dd>
  <dd>Domain: \( [0, 1] \).</dd>
  <dd>Uses: Box constraint.</dd>
  <dt>kIndEq0 – Indicator of the Origin</dt>
  <dd>Function: \(h(x) = I(x = 0)\).</dd>
  <dd>Domain: \( \{ 0 \} \).</dd>
  <dd>Uses: Equality constraint.</dd>
  <dt>kIndGe0 – Indicator of the Non-Negative Orthant</dt>
  <dd>Function: \(h(x) = I(x \geq 0)\).</dd>
  <dd>Domain: \( \mathbf{R}_+  \).</dd>
  <dd>Uses: Inequality constraint.</dd>
  <dt>kIndLe0 – Indicator of the Non-Positive Orthant</dt>
  <dd>Function: \(h(x) = I(x \leq 0)\).</dd>
  <dd>Domain: \( \mathbf{R}_- \).</dd>
  <dd>Uses: Inequality constraint.</dd>
  <dt>kLogistic – Integral of the Logistic Function</dt>
  <dd>Function: \(h(x) = \log(1 + e^x)\).</dd>
  <dd>Domain: \( \mathbf{R} \).</dd>
  <dd>Uses: Logistic Regression.</dd>
  <dt>kMaxNeg0 – Negative Part</dt>
  <dd>Function: \( h(x) = \max(0, -x) \).</dd>
  <dd>Domain: \( \mathbf{R} \).</dd>
  <dd>Uses: Hingle loss (eg. SVM).</dd>
  <dt>kMaxPos0 – Positive Part</dt>
  <dd>Function: \( h(x) = \max(0, x) \).</dd>
  <dd>Domain: \( \mathbf{R} \).</dd>
  <dd>Uses: Hingle loss (eg. SVM).</dd>
  <dt>kNegLog – Negative Log</dt>
  <dd>Function: \( h(x) = -\log(x) \).</dd>
  <dd>Domain: \( \mathbf{R}_+ \).</dd>
  <dd>Uses: Analytic centering or barrier function (eg. for solving convex subproblem).</dd>
  <dt>kSquare – Square</dt>
  <dd>Function: \( h(x) = (1/2)x^2 \).</dd>
  <dd>Domain: \( \mathbf{R} \).</dd>
  <dd>Uses: \(L_2\)-norm problems (eg. least squares, ridge regression, etc.).</dd>
  <dt>kRecipr – Reciprocal</dt>
  <dd>Function: \( h(x) = 1/x \).</dd>
  <dd>Domain: \( \mathbf{R}_+ \).</dd>
  <dd>Uses: Analytic centering or barrier function (eg. for solving convex subproblem).</dd>
  <dt>kZero – Zero</dt>
  <dd>Function: \( h(x) = 0 \).</dd>
  <dd>Domain: \( \mathbf{R} \).</dd>
  <dd>Uses: Objective does not depend on specific term.</dd>
</dl>



                    </div>
                
            </div>

            <div class=row-fluid>
                <div id=footer class=span12>
                    Documentation for <a href="https://github.com/foges/pogs">POGS</a>

                </div>
            </div>
        </div>

        <script>
            function orderNav() {
                var list,
                    section,
                    header,
                    sections = [],
                    lists = {},
                    headers = {};

                var navUl = document.querySelectorAll('#navigation ul')[0],
                    navLis = document.querySelectorAll('#navigation ul li');

                if (!navUl) return;

                for (var i = 0; i < navLis.length; i++) {
                    var order, li = navLis[i];

                    if (li.classList.contains('nav-header')) {
                        section = li.textContent || li.innerText;
                        sections.push(section);
                        headers[section] = li;
                        continue;
                    }

                    if (!lists[section]) {
                        lists[section] = [];
                    }

                    order = parseFloat(li.getAttribute('data-order'))
                    lists[section].push([order, li]);
                }

                for (var i = 0; i < sections.length; i++) {
                    section = sections[i];
                    list = lists[section].sort(function(a, b) {
                        return a[0] - b[0];
                    });

                    if (header = headers[section]) {
                        navUl.appendChild(header);
                    }
                    for (var j = 0; j < list.length; j++) {
                        navUl.appendChild(list[j][1]);
                    }
                }
            }

            if (document.querySelectorAll) orderNav();
        </script>
    </body>
</html>
